(()=>{var e=null,o=!1;chrome.runtime.onMessage.addListener((function(t,n,l){if("toggleDeclutterPage"===t.action)return function(){if(o)e&&document.body.replaceWith(e),o=!1;else{e=document.body.cloneNode(!0);var t=document.createElement("div"),n=document.querySelector("article, .article, .post, .content, .entry-content");if(n){var l=n.cloneNode(!0);l.querySelectorAll(".ad, .sidebar, .popup, .menu, .nav, .share-buttons, .related-articles, header, footer").forEach((function(e){return e.remove()})),l.querySelectorAll("img").forEach((function(e){e.style.display="block",e.style.width="100%",e.style.margin="0 auto",e.style.maxWidth="800px"})),t.appendChild(l)}else{var d=document.querySelectorAll("h1, h2, h3, h4, h5, h6"),r=document.querySelectorAll("p"),c=document.querySelectorAll("img"),a=document.querySelectorAll("a");d.forEach((function(e){return t.appendChild(e.cloneNode(!0))})),r.forEach((function(e){return t.appendChild(e.cloneNode(!0))})),c.forEach((function(e){var o=e.cloneNode(!0);o.style.display="block",o.style.width="100%",o.style.margin="0 auto",o.style.maxWidth="800px",t.appendChild(o)})),a.forEach((function(e){return t.appendChild(e.cloneNode(!0))}))}document.body.innerHTML="",document.body.appendChild(t),document.body.style.margin="auto",document.body.style.maxWidth="800px",document.body.style.lineHeight="1.6",document.body.style.fontSize="18px",document.body.style.color="#000000",document.body.style.padding="1em",document.body.style.backgroundColor="#ffffff",document.body.style.fontFamily="Arial, sans-serif",o=!0}}(),l({isReaderEnabled:o}),!0}))})();